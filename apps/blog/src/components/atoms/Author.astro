---
import { cx } from '../../utils/cx'
import type { Author } from '../../utils/types'
import { Image } from '@astrojs/image/components'
import { FaOrcid, FaTwitter, FaGithub, FaLink } from 'react-icons/fa/index'

interface Props {
  author: Author
  class?: string
}

const { author, class: className } = Astro.props
---

<div class={cx('card grid-cols-4 grid-rows-3 grid bg-white w-full p-4', className)}>
  {
    author.image?.url && false ? (
      <Image
        src={author?.image?.url}
        alt={author?.image?.alt ?? author?.lastName}
        height={author?.image?.height}
        aspectRatio="1"
        class="col-span-1 row-span-3 h-14 w-14 rounded-full border-2 border-black object-cover"
      />
    ) : (
      <div class="col-span-1 row-span-3 flex h-14 w-14 items-center justify-center self-center justify-self-center rounded-full border-2 border-black bg-orange-500 text-xl font-black capitalize text-black">
        {author.lastName?.[0] ?? author?.firstName?.[0]}
      </div>
    )
  }
  <a class="row-span-1 col-span-3 font-bold text-2xl">{author.firstName} {author.lastName}</a>
  <p class="row-span-2 col-span-3">{author.summary}</p>
  <div class="flex gap-1 flex-wrap">
    {
      author.orcid && (
        <a
          href={`https://orcid.org/${author.orcid}`}
          class="button flex items-center gap-1 text-black"
        >
          <FaOrcid />
          <span class="sr-only">ORCID</span>
        </a>
      )
    }
    {
      author.twitter && (
        <a href={`https://twitter.com/${author.twitter}`} class="button flex items-center gap-1">
          <FaTwitter />
          <span class="sr-only">Twitter</span>
        </a>
      )
    }
    {
      author.github && (
        <a href={`https://github.com/${author.github}`} class="button flex items-center gap-1">
          <FaGithub />
          <span class="sr-only">Github</span>
        </a>
      )
    }
    {
      author.personalWebsite && (
        <a href={author.personalWebsite} class="button flex items-center gap-1">
          <FaLink />
          <span class="sr-only">Website</span>
        </a>
      )
    }
  </div>
</div>
